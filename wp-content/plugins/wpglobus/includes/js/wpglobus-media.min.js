!function(a){"use strict";if("undefined"!=typeof WPGlobusCore&&"undefined"!=typeof WPGlobusMedia){var b={content:{},save:!0,resetContent:!0,init:function(c){var d=a(".wpglobus-post-body-tabs");1==d.length&&(d.insertBefore(".wp_attachment_details"),d.tabs(),b.iniSet(),b.setContent(),b.attachListeners())},iniSet:function(){a.each(WPGlobusMedia.attachment,function(c,d){b.content[d]=a("#"+d).val(),a("#"+d).addClass("wpglobus-translatable")})},setContent:function(c){"undefined"==typeof c&&(c=!1),c?a.each(WPGlobusMedia.attachment,function(c,d){a("#"+d).val(b.content[d])}):a.each(WPGlobusMedia.attachment,function(c,d){a("#"+d).val(WPGlobusCore.TextFilter(b.content[d],WPGlobusMedia.language,"RETURN_EMPTY"))})},attachListeners:function(){a(document).on("tabsactivate",".wpglobus-post-body-tabs",function(a,c){WPGlobusMedia.language=c.newTab[0].dataset.language,b.setContent()}),a.each(WPGlobusMedia.attachment,function(c,d){a(document).on("keyup","#"+d,function(a){b.content[a.currentTarget.id]=WPGlobusCore.getString(b.content[a.currentTarget.id],a.currentTarget.value,WPGlobusMedia.language)})}),a(document).on("mouseenter","#publish",function(a){b.setContent(b.save)}).on("mouseleave","#publish",function(a){b.resetContent&&b.setContent(),b.resetContent=!0}).on("click","#publish",function(a){b.resetContent=!1}),a(document).ajaxSend(function(a,b,c){"undefined"!=typeof c.data&&-1!=c.data.indexOf("action=send-attachment-to-editor")&&(c.data=c.data+"&wpglobusLanguageTab="+WPGlobusAdmin.currentTab)})}};WPGlobusMedia=a.extend({},WPGlobusMedia,b),WPGlobusMedia.init()}}(jQuery);